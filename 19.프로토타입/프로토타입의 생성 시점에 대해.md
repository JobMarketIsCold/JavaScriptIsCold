# 프로토타입의 생성 시점에 대해

## 프로토타입과 JS를 공부하며 자연스럽게 궁금해진 것이 있습니다.

> 프로토타입도 객체의 일부분이라면, 프로토타입은 언제 생성되는걸까?

### 이전에 \_\_proto\_\_에 대해 알아볼 때, 생성자 함수와 프로토타입은 서로 연결되어 있다는 것을 알 수 있었습니다. 그렇다면 프로토타입이 언제 생성될까요?

##

### 결론부터 말하면, 프로토타입은 생성자 함수가 생성되는 시점에 더불어 생성됩니다. 당연한 게, 프로토타입과 생성자 함수는 항상 연결되어 쌍으로 존재하기 때문입니다.

그런데, 생성자 함수도 사용자 정의 생성자 함수냐, 자바스크립트 기본 제공의 빌트인 생성자 함수냐에 따라 생성 시점이 다릅니다.

## 사용자 정의 생성자 함수일 때 프로토타입 생성 시점

사용자가 함수를 정의할 때는 constructor냐 non-constructor냐가 갈립니다. 여기서 non-constructor는 내부 메서드 [[Construct]]를 가지지 않으므로 화살표 함수나 ES6 메서드 축약 표현으로 정의하면 **생성자 함수로 호출할 수 없고**, 따라서 프로토타입도 생성되지 않습니다.(undefined가 들어감)

반대로 constructor는 함수 객체 생성할 시점에 프로토타입도 더불어 생성될 것입니다.

함수 선언문은 런타임 이전에 자바스크립트 엔진에 의해 먼저 실행되어 호이스팅이 발생합니다. 이 때 함수 선언문으로 정의된 생성자 함수는 누구보다도 빠르게 객체가 될 것이고, 이 때 프로토타입도 함께 생성되어 프로토타입 프로퍼티에 바인딩될 것입니다.

```js
console.log(Hun.prototype); // 가능

function Hun(asd) {
  // 호이스팅
  this.asd = asd;
}
```

##

## 빌트인 생성자 함수일 때 프로토타입 생성 시점

빌트인 생성자 함수란, Object, String, Number와 같은 것을 말합니다.
빌트인 생성자 함수 또한 일반 함수와 마찬가지로 생성자 함수가 생성되는 시점에 프로토타입이 생성된다고 합니다. 그리고 이 프로토타입 또한 빌트인 생성자 함수의 프로토타입 프로퍼티에 바인딩될 것입니다.

##

### 프로토타입 생성 시점은 생성자 함수가 생성 시점에 함께 만들어져서 생각보다 간단했습니다. 그리고 이전에 배웠던 constructor까지 연관이 있어 리마인드 할 수 있어서 흥미로웠습니다.

### 이제 이 다음에는 프로토타입 체인은 어떤 방식인지, 체인을 어떻게 교체하는지 공부 해야겠습니다.
